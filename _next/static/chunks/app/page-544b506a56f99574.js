(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8532:function(e,t,s){Promise.resolve().then(s.bind(s,2864))},2864:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var l=s(7437),a=s(2265),n=s(7476);let i=s(8472).Z.create({baseURL:"http://localhost:3333"});function c(){let e=(0,a.useRef)(null),t=(0,a.useRef)(null),[s,c]=(0,a.useState)([]);async function r(){let e=await i.get("/tasks");console.log(e.data),c(e.data)}async function u(s){var l,a;s.preventDefault();let n=await i.post("/tasks",{description:null===(l=e.current)||void 0===l?void 0:l.value,date:null===(a=t.current)||void 0===a?void 0:a.value});c(e=>[...e,n.data])}async function o(e){try{await i.delete("/tasks/"+e);let t=s.filter(t=>t.id!==e);c(t)}catch(e){alert(e)}}async function d(e){try{await i.put("/tasks/"+e,{status:!0});let t=await i.get("/tasks");c(t.data)}catch(e){alert(e)}}return(0,a.useEffect)(()=>{r()},[]),(0,l.jsx)("div",{className:"w-full min-h-screen bg-slate-500 flex justify-center px-4",children:(0,l.jsxs)("main",{className:"my-10 w-full lg:max-w-5xl",children:[(0,l.jsxs)("section",{children:[(0,l.jsx)("h1",{className:"text-4xl text-slate-200 font-medium text-center",children:"To Do List"}),(0,l.jsxs)("form",{className:"flex flex-col my-6",onSubmit:u,children:[(0,l.jsx)("label",{className:"text-slate-200",children:"Task Description"}),(0,l.jsx)("input",{type:"text",className:"w-full mb-5 p-2 rounded",ref:e}),(0,l.jsx)("label",{className:"text-slate-200",children:"Date"}),(0,l.jsx)("input",{type:"date",className:"w-full mb-5 p-2 rounded",ref:t}),(0,l.jsx)("input",{type:"submit",value:"Add Task",className:"cursor-pointer w-full bg-slate-800 rounded font-medium text-slate-200 p-4"})]})]}),(0,l.jsx)("section",{className:"mt-5 flex flex-col",children:s.map(e=>(0,l.jsxs)("article",{className:"w-full bg-slate-200 text-slate-800 p-2 mb-4 rounded relative hover:bg-sky-300",children:[(0,l.jsx)("p",{children:e.description}),(0,l.jsx)("p",{children:new Date(e.date_task).toLocaleDateString()}),(0,l.jsx)("p",{children:e.status.toString()}),(0,l.jsx)("button",{className:"flex absolute right-10 -top-2 bg-green-600 w-7 h-7 items-center justify-center text-slate-200",onClick:()=>d(e.id),children:(0,l.jsx)(n.UgA,{})}),(0,l.jsx)("button",{className:"flex absolute right-0 -top-2 bg-red-600 w-7 h-7 items-center justify-center text-slate-200",onClick:()=>o(e.id),children:(0,l.jsx)(n.We9,{})})]},e.id))})]})})}}},function(e){e.O(0,[956,265,971,23,744],function(){return e(e.s=8532)}),_N_E=e.O()}]);